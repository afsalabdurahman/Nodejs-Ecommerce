<link rel="stylesheet" href="/assets/UserProfile/WishList.css">
<link rel="stylesheet" href="/assets/profile.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<div class="body">


    <div class="container">

        <aside class="sidebar">
            <nav>
                 <ul>
                    <li><a href="/profile"><i class="fas fa-user"></i> My Details</a></li>
                    <li><a href="/profile/wishlist"><i class="fas fa-heart"></i> Wishlist</a></li>
                    <li><a href="/profile/cart"><i class="fas fa-shopping-cart"></i> My Cart</a></li>
                    <li><a href="/profile/allorders"><i class="fa fa-file-text"></i>All Orders</a></li>
                    <li><a href="/profile/editprofile"><i class="fas fa-edit"></i> Edit User Details</a></li>
                    <li><a href="/profile/changepsw"><i class="fas fa-key"></i> Change Password</a></li>
                    <li><a href="/profile/address"><i class="fas fa-map-marker-alt"></i> Address</a></li>
                    <li><a href="#"><i class="fas fa-wallet"></i> Wallet</a></li>
                    <li><a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <h2>MY WISHLIST</h2>
            <table class="wishlist-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="wishlist-items">
                    <tr>
                        <td><button class="remove-btn">x</button></td>
                        <td><img src="/pictures/blue2.jpg" alt="Kids Dress"><span>KIDS DRESS<br>Far far away, behind the
                                word
                                mountains, far from the countries</span></td>
                        <td>$4.90</td>
                        <td>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="decreaseQuantity(this)">-</button>
                                <input type="text" value="1" class="quantity-input" readonly>
                                <button class="quantity-btn" onclick="increaseQuantity(this)">+</button>
                            </div>
                        </td>
                        <td>$4.90</td>
                        <td><button class="add-to-cart-btn">Add To Cart</button></td>
                    </tr>
                    <!-- Repeat similar rows for other products -->
                    <tr id="removeId">
                        <td><button class="remove-btn" onclick="remove(this)">x</button></td>
                        <td><img src="/pictures/blue2.jpg" alt="Kids Dress"><span>KIDS DRESS<br>Far far away, behind the
                                word
                                mountains, far from the countries</span></td>
                        <td>$4.90</td>
                        <td>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="decreaseQuantity(this)">-</button>
                                <input type="text" value="1" class="quantity-input" readonly>
                                <button class="quantity-btn" onclick="increaseQuantity(this)">+</button>
                            </div>
                        </td>
                        <td>$4.90</td>
                        <td><button class="add-to-cart-btn">Add To Cart</button></td>
                    </tr>
                    <tr>
                        <td class="remove"><button class="remove-btn">x</button></td>
                        <td><img src="/pictures/blue2.jpg" alt="Kids Dress"><span>KIDS DRESS<br>Far far away, behind
                                the
                                word
                                mountains, far from the countries</span></td>
                        <td>$4.90</td>
                        <td>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="decreaseQuantity(this)">-</button>
                                <input type="text" value="1" class="quantity-input" readonly>
                                <button class="quantity-btn" onclick="increaseQuantity(this)">+</button>
                            </div>
                        </td>
                        <td>$4.90</td>
                        <td><button class="add-to-cart-btn">Add To Cart</button></td>
                    </tr>
                </tbody>
            </table>
            <div class="summary">
                <p>Total Price: <span id="total-price">$4.90</span></p>
                <p>Discount: <span id="discount">$0.00</span></p>
                <p>Tax: <span id="tax">$0.00</span></p>
                <p>Final Total: <span id="final-total">$4.90</span></p>
                <button class="proceed-btn">Proceed to Cart</button>
            </div>
        </main>
    </div>

</div>
<script>
    console.log("hiii")
    function remove(val) {
        removes = document.getElementById('removeId')
        removes.remove()
    }

    function decreaseQuantity(button) {
        const quantityInput = button.nextElementSibling;
        let quantity = parseInt(quantityInput.value);
        if (quantity > 1) {
            quantity--;
            quantityInput.value = quantity;
            updateTotal(button, quantity);
        }
    }

    function increaseQuantity(button) {
        const quantityInput = button.previousElementSibling;
        let quantity = parseInt(quantityInput.value);
        quantity++;
        quantityInput.value = quantity;
        updateTotal(button, quantity);
    }

    function updateTotal(button, quantity) {
        const row = button.closest('tr');
        const price = parseFloat(row.children[2].textContent.replace('$', ''));
        const total = (price * quantity).toFixed(2);
        row.children[4].textContent = `$${total}`;
        updateSummary();
    }

    function updateSummary() {
        const rows = document.querySelectorAll('#wishlist-items tr');
        let totalPrice = 0;
        rows.forEach(row => {
            const total = parseFloat(row.children[4].textContent.replace('$', ''));
            totalPrice += total;
        });

        const discount = 0; // You can add logic for discount here
        const tax = 0; // You can add logic for tax here
        const finalTotal = totalPrice - discount + tax;

        document.getElementById('total-price').textContent = `$${totalPrice.toFixed(2)}`;
        document.getElementById('discount').textContent = `$${discount.toFixed(2)}`;
        document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
        document.getElementById('final-total').textContent = `$${finalTotal.toFixed(2)}`;
    }

</script>